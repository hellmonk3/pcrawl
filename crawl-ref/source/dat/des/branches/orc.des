##############################################################################
# orc.des: Entries to the Orcish Mines, and (mini)vaults which appear _only_
#          in the Mines. General (mini)vaults, which can also appear in the
#          Mines, should go to vaults.des.
##############################################################################

##############################################################################
# Orcish Mines entries
##############################################################################
# Dummy Orc entry

NAME:   orc_0_dummy
TAGS:   orc_entry transparent
WEIGHT: 50
ORIENT: float
KFEAT:  O = enter_orcish_mines
MAP
O
ENDMAP

##############################################################################
# Freedom of Choice
#
NAME: david_orc_1_choice
TAGS: orc_entry
ORIENT: float
KFEAT: O = enter_orcish_mines
MAP
           xxx
        xxxxOxxxx
     xxxx.......xxxx
   xxx.............xxx
  xx....x.......x....xx
 xx....xxx.....xxx....xx
xx.....xxx.I.I.xxx..I..x
xx......x.......x......xx
x..x.x..x..x+x..x..x+x..x
x.xx.xx.x.xx.xx.x.xx.xx.x
x.x...x.x.x.e.x.x.x...x.x
x.x...x.x.x.e.x.x.x...x.x
x.xx.xx.x.xx.xx.x.xx.xx.x
x..x.x..x..x+x..x..x+x..x
x.......+.......+.......x
xx.....xxx.I.I.xxx..I..xx
 xx...xx xx...xx xx...xx
  x.@.x   xxxxx   x.@.x
ENDMAP

#######################
# Large temple
NAME:   minmay_orc_entry_temple_large
TAGS:   orc_entry
WEIGHT: 1
ORIENT: float
KFEAT:  _ = altar_beogh
KFEAT:  O = enter_orcish_mines
MAP
ccccc   ccccc
c'''c   c'''c
c'''c   c'''c
c'''c   c'''c
cc+ccccccc+cc
c"""""""""""c
c"""""""""""c
c"""""""""""c
c"""I"""I"""c
c"""""""""""c
c"""""_"""""c
c"""""""""""c
c"""I"""I"""c
c"""""""""""c
ccc"""""""ccc
ccc"""""""ccc
cccccc+cccccc
cccccI.Iccccc
ccccI...Icccc
cccI.....Iccc
   .......
   ...O...
   .......
ENDMAP

############################################################################
# (Mini)vaults specific to the Orcish Mines
############################################################################

default-depth: Orc

##################################
# Dummy Orc minivault balancer.
#
NAME: mines_dummy
TAGS: dummy
WEIGHT: 60
MAP
x
ENDMAP

###################################
# Beogh 1
NAME:   mines1_david
TAGS:   allow_dup transparent
KFEAT:  C = altar_beogh
WEIGHT: 20
MAP
...........
.xxxx.xxxx.
.xx.....xx.
.x.......x.
.x.......x.
.....C.....
.x.......x.
.x.......x.
.xx.....xx.
.xxxx.xxxx.
...........
ENDMAP

##################################################
# A temple (minmay)
#
NAME:   minmay_orc_temple_a
DEPTH:  Orc
KFEAT:  _ = altar_beogh
MAP
ccccccc
c..G..c
c.._..c
c.....c
ccc+ccc
 I...I
 .....
  ...
ENDMAP

##################################################
# Another temple (minmay)
#
NAME:   minmay_orc_temple_b
DEPTH:  Orc
KFEAT:  _ = altar_beogh
MAP
  ccccccc
  cI...Ic
  c.....c
  c.._..c
  c.....c
  cI...Ic
ccccc+ccccc
c.........c
c.c.....c.c
c.........c
c.c.....c.c
c.........c
c.c.....c.c
c.........c
c.c.....c.c
c.........c
c.c.....c.c
c.........c
cccc+++cccc
 ccI...Icc
  ..0....
   ...0.
    .0.
ENDMAP

#######################
# Yet Another Temple
NAME:   bh_open_orc_temple
TAGS:   transparent
DEPTH:  Orc
KFEAT:  _ = altar_beogh
MAP
     cccccccccc
 .............c
...I..I..I..I.c
.........""...cc
.........""...cc
..I..I..I""I'''c
........""""'''c
.I......""""'_'c
........""""'''c
..I..I..I""I'''c
.........""...cc
.........""...cc
..I...I..I..I.cc
 .............c
     cccccccccc
ENDMAP

NAME: nicolae_orc_crystal_geode
TAGS: no_item_gen no_trap_gen luniq_orc_cave
DEPTH: Orc
SUBST: B = b'
MAP
 xxxxxxxx
xx....xxxx
...x...bbxx
@xxxB...bbxx
 xbbB'''Bbxx
 xbB'''BBbxx
 xbbBBBBbbxx
 xxbbbbbbxx
  xxxxxxxx
ENDMAP

NAME: nicolae_orc_lava_room
TAGS: no_item_gen no_trap_gen luniq_orc_cave
DEPTH: Orc
SUBST: L = l., X = lx
MAP
   x.@xx
 xxx..xxx
xxx....Xxx
xX.....Llxx
xXLLLLLLlXx
xxllllllXxx
 xxXXXXXxx
  xxxxxxx
ENDMAP

NAME: nicolae_orc_lost_temple
TAGS: no_item_gen no_trap_gen luniq_orc_cave
DEPTH: Orc
NSUBST: D = + / c
SUBST: C = c.
KFEAT: _ = altar_beogh
MAP
 xxxxxx.
xxcccDCC.@
xxcI...I..
xxc.....Cx
xxD.._..Dxx
xxc.....cxx
xxcI...Icxx
xxcccDcccxx
 xxxxxxxxx
   xxxxx
ENDMAP

NAME: nicolae_orc_damp_corner
TAGS: transparent decor extra
DEPTH: Orc
SUBST: E = 1X, ' = ...WW11, X = xx.
KMONS: 1 = fungus / nothing w:3
KFEAT: 1 = W / . w:20
MAP
  x@@xx
  x..Xxxx
 xxX...Xxxxxxxx
 xxxXX...Xxxxxxxx
xxxxxxXX...'EExxxx
xxxxxxxxxX''''Exxxx
xxxxxxxxxx'''''Exxx
xxxxxxXXXX''''Exxx
 xxxXX....''EExxx
 xxX...XXxxxxxxx
  x..Xxxxxxxx
  x..Xxxxx
   @@xx
ENDMAP

NAME: nicolae_orc_lava_tube
TAGS: extra decor transparent
DEPTH: Orc
SUBST: X = xx., L = ll., Z = lx
MAP
                 xxxx@@@xx
           xxxxxxxxxZ...xxx
       xxxxxxxxxxxxxx...lZxx
    xxxxxZZZZxxxxxxxZ...llZx
  xxxxxxXLllllxxxxxZ...LllZx
 xxxxXXX...LLXXxxxxX...LlZxx
xxxxX....X.....XZxX...XXxxx
xZllL...XxZxx........Xxxxx
xZll...XxxxxllL.....Xxxxx
xZll..XXxxxxlllxZXXXxxx
xxxX...XxxxxZZxxxxxxxx
 xxxX...Zxxxxxxxxxxx
 xxxX...XXxxxxxxxx
  xxxZ...Xxxxxxx
   xxx@@@xxxx
ENDMAP

NAME: nicolae_orc_pool_cavern
TAGS: extra decor transparent
DEPTH: Orc
SUBST: W = ww., X = x:80 .:40 w
MAP
       xxx@@x
    xxxxxx..xx
   xxxxxxX..Xxx
  xxxxxxX...Xxxx
 xxxxXXX..Xxxxxx
 xxxX.......Xxxxx
xxxX..WWWW..Xxxxx
xxxX..WwwW.Xxxxxx
xxxX..WwwW.Xxxxxx
xxxX..WWWW..Xxxx
@.xX.........Xxx
@......XX.....Xxx
x.....XxxXX...Xxx
xxxxXXxxxxxX....@
 xxxxxxxxxxxX...@
   xxxxxxxxxxxxxx
      xxxxxxxxx
ENDMAP

NAME: nicolae_orc_stony_grotto
TAGS: extra decor transparent
DEPTH: Orc
SUBST: X = xxxc...., C = xc, D = ...c
MAP
  @Cxxxx
 @..xCcxxxx
 Cx...xxxxxxx
 xxC...CXXxxxx
 xxX..xx..DXxxx
xxxC..xD.c..XCxx
xxxX....cccD.Xxxx
xxC.c....c..ccxxx
xxXccc..D...ccXxx
xxxxc.Dcc.....Cxx
xxxxX..cc..C..XCx
 xxxxX....CC...xx
   xxxxXXXxxx..C
     xxxxxxxC..@
         xxxxC@
ENDMAP

############################################################################
# Orc endings.
#
# These generally place four random stores; particularly difficult endings
# might consider placing four good quality stores.
############################################################################

default-depth:

NAME:    st_orc_town
TAGS:    no_rotate no_item_gen transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    orc / nothing
#
: local brnd = crawl.random2(8)
: if brnd > 5 then
MONS:    orc wizard, orc sorcerer
: elseif brnd > 2 then
MONS:    orc priest, orc high priest
: else
MONS:    orc warrior, orc knight
: end
#
MONS:    warg / nothing
KFEAT:   S = any shop
KFEAT:   _ = altar_beogh
SUBST:   5 = 32, A:+, C:+, B:c, D:c
SUBST:   T : TIII
SHUFFLE: AC/BD
MAP
...................................
...................................
..cccccc..ccc.ccc.ccccccc..cccccc..
..cS521c..ccc.ccc.ccccccc..c125Sc..
..c5211D..ccc.ccc4ccccccc..B.125c..
..c2111c4....1......121..4.c..12c..
..cccCcc...11211.4ccc1ccc..ccAccc..
@......4..1T232T1.ccc.ccc.4.......@
..cccCcc...112114.ccc.ccc.cccAccc..
..c11..c4.ccc+ccc.ccc1ccc4c...11c..
..c211.D..c1...1c...131...B..112c..
..c5211c..c2.3.2c4ccc1ccc.c.1125c..
..cS521c..c1._.1c.ccc.ccc.c1125Sc..
..cccccc..ccccccc.ccc.ccc.ccccccc..
...................................
...................................
ENDMAP

##################################################
NAME:    st_orc_ogre_mass
TAGS:    no_item_gen no_monster_gen transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    ogre / nothing w:5, two-headed ogre / nothing w:5, ogre mage
KMONS:   S = ogre / nothing w:5
KFEAT:   S = any shop
MAP
  ..........@.........
 ......................
...xxxxxxxx..xxxxxxxx...
..xxxx............xxxx..
..xx.......11.......xx..
..x..212..1221..212..x..
....2111213SS3121112....
....2111213SS3121112....
..x..212..1221..212..x..
..xx.......11.......xx..
..xxxx............xxxx..
...xxxxxxxx..xxxxxxxx...
 ......................
  ....................
ENDMAP

##################################################
NAME:    st_orc_rangers
TAGS:    no_rotate no_item_gen no_monster_gen no_pool_fixup transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    orc warrior w:1 ; orcbow . halberd | war axe | morningstar /\
         orc w:10 ; orcbow . trident | hand axe | mace
MONS:    orc warrior ; orcbow . glaive | broad axe | battleaxe | great mace
MONS:    orc knight ; arbalest . glaive | broad axe | great mace
MONS:    orc warrior
MONS:    centaur w:20 / centaur warrior w:1 / nothing w:21
SUBST:   3 = 23
KFEAT:   S = any shop
MAP
  ...............@...............
 .................................
...cc..cc..cc...ccc...cc..cc..cc...
..cc..........wwcccww..........cc..
..c..5.......wwwcccwww.......5..c..
....5...5..wwwwcccccwwww..5...5....
..c....5.wwwwccccSccccwwww.5....c..
..c...5.wwwwcccc4.4ccccwwww.5...c..
........1221...34S43...1221........
........1221...34S43...1221........
..c...5.wwwwcccc4.4ccccwwww.5...c..
..c....5.wwwwccccSccccwwww.5....c..
....5...5..wwwwcccccwwww..5...5....
..c..5.......wwwcccwww.......5..c..
..cc..........wwcccww..........cc..
...cc..cc..cc...ccc...cc..cc..cc...
 .................................
  ...............................
ENDMAP

##################################################
NAME:    st_orc_mages
TAGS:    no_item_gen no_monster_gen transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    orc / nothing, orc wizard / nothing, orc sorcerer
MONS:    orc priest / nothing, orc high priest, orc warrior
KFEAT:   S = any shop
SHUFFLE: 23/45
MAP
  ...................
 ...ccccccccccccccc...
...cc4.4...6...4.4cc...
..cc4.2.4..6..4.2.4cc..
..c..4.2.ccccc.2.4..c..
..c.2.2.2.c.c.2.2.2.c..
..c..2.2c.....c2.2..c..
..c...2ccc.3.ccc2...c..
..c..c..c.....c..c..c..
..11.cc...cSc...cc.11..
..61.c..3.S5S.3..c.16.@
..11.cc...cSc...cc.11..
..c..c..c.....c..c..c..
..c...2ccc.3.ccc2...c..
..c..2.2c.....c2.2..c..
..c.2.2.2.c.c.2.2.2.c..
..c..4.2.ccccc.2.4..c..
..cc4.2.4..6..4.2.4cc..
...cc4.4...6...4.4cc...
 ...ccccccccccccccc...
  ...................
ENDMAP

##################################################
NAME:    st_orc_pillars
TAGS:    no_item_gen no_monster_gen transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    orc / nothing, orc warrior / nothing, orc knight / nothing
MONS:    orc priest / nothing, orc high priest
KFEAT:   S = any shop
MAP
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  ccccccccccccccccccccccccccccccccccccccx
  cccccc.....ccccccccccccc..5..cccccccccx
  cccc.44.44.44ccccccccc.........cccccccx
  cc1..44.44.44..ccccc22..33.33..22cccccx
  c1111...........ccc.22.........22.ccccx
 .c.c1c.c.c.c1c.c.c.c.c1c4c4c4c4c4c.cSccx
.....111.222.11.3.....11..2...2...2.5.Scx
@........222.11.33c5c.112.2.2.2.2.2.c.ccx
.....111.222.11.3.....11..2...2...2.5.Scx
 .c.c1c.c.c.c1c.c.c.c.c1c4c4c4c4c4c.cSccx
  c1111...........ccc.22.........22.ccccx
  cc1..44.44.44..ccccc22..33.33..22cccccx
  cccc.44.44.44ccccccccc.........cccccccx
  cccccc.....ccccccccccccc..5..cccccccccx
  ccccccccccccccccccccccccccccccccccccccx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ENDMAP

##################################################
NAME:    st_orc_congregation
TAGS:    no_item_gen no_monster_gen transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    orc / nothing, orc warrior / nothing, orc priest / nothing
MONS:    orc wizard / nothing, orc knight, orc high priest, orc sorcerer
KMONS:   V = orc warlord
KFEAT:   V = T
# This one has a lot more high level orcs than the rest,
# so instead of adding more shops, guarantees good shops.
KFEAT:   S = general shop
KFEAT:   A = antique armour shop
KFEAT:   B = antique weapon shop
KFEAT:   C = book shop / jewellery shop
SHUFFLE: 74/63
MAP
xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xcccccccccccccccccccccccccccx
xc1111.ccC..ccccc..Bcc.1111cx
xc122...ccS..ccc..Acc...221cx
xc122....cc...c...cc....221cx
xcc...7...ccc...ccc...7...ccx
xccc..4.33.........33.4..cccx
xcccc.4..33..222..33..4.ccccx
xcccc.4ccc33.222.33ccc4.ccccx
xcccc.4ccc.6..5..6.ccc4.ccccx
xcccc..ccc.........ccc..ccccx
xcccc..ccc..5.V.5..ccc..ccccx
xcccc..ccc.........ccc..ccccx
xcccc.4ccc.7..6..7.ccc4.ccccx
xcccc.4ccc...222...ccc4.ccccx
xcccc.4......222......4.ccccx
xc1...4...............4...1cx
xc122.4..333.....333..4.221cx
xc122..ccc333222333ccc..221cx
xc1111.ccc.1122211.ccc.1111cx
xccccccccc.11...11.cccccccccx
xccccccccc.11...11.cccccccccx
xccccccccc.1.....1.cccccccccx
xccccccccccc.....cccccccccccx
          .........
            ..@..
ENDMAP

##################################################
NAME:    st_orc_open
TAGS:    no_item_gen no_monster_gen transparent
PLACE:   Orc:$
ORIENT:  float
MONS:    ogre, two-headed ogre, troll, deep troll w:19 / iron troll w:1
MONS:    ogre mage, two-headed ogre w:14 / ettin w:1, cyclops w:29 / stone giant w:1
KFEAT:   S = any shop
MAP
 .....
..111..  .... ....
..151....4....3S3..
..111.....321..3..11
 .......2.252......1
  ....6...123..7..@
   ..S.3...........
  ..4........6.1S.
  ...3.7..S2.. 11.
   .... ....
ENDMAP

##################################################
NAME:    st_orc_elflike
TAGS:    no_item_gen no_monster_gen
PLACE:   Orc:$
ORIENT:  float
MONS:    orc high priest, orc sorcerer, orc knight
MONS:    orc warrior, orc priest, orc wizard
KFEAT:   S = any shop
MAP
xxxxxxxxxxxxxxxxxxxxxxx
xcccccccccccccccccccccx
xccccccS.......Sccccccx
xccccS...cc.cc...Sccccx
xccc...cc3...3cc...cccx
xcc5.cc3...1...3cc.5ccx
xcc5...............5ccx
xcc..c2..1...1..2c..ccx
xcc..cc2.......2cc..ccx
xc....cc.......cc....cx
xc.c6.....c.c.....6c.cx
xc.cc6....c.c....6cc.cx
xc..ccc444c.c444ccc..cx
xcc..cccccc.cccccc..ccx
xccc...cccc.cccc...cccx
xccccc...........cccccx
xcccccccccc.ccccccccccx
xcccccccccc.ccccccccccx
          .@.
ENDMAP

##################################################
NAME:   grunt_orc_gardens
PLACE:  Orc:$
ORIENT: float
{{
  -- There is functionality here for making the enemy sets consist of
  -- small numbers of cyclopses, ettins, and a stone giant.
  -- I have yet to decide how fair this will be, so it's a fairly low
  -- chance until I decide one way or the other if it works.
  dgn.persist.grunt_orc_gardens_giant_problem = crawl.one_chance_in(8)
  hook("post_place", function()
    local stores = { "antique weapon shop", "antique armour shop",
                     "general shop", "book shop / jewellery shop" }
    local which = crawl.random2(#stores) + 1
    dgn.persist.grunt_orc_gardens_store = stores[which]
    table.remove(stores, which)
    dgn.persist.grunt_orc_gardens_boss = true
    dgn.place_maps{tag="grunt_orc_garden", count=1}
    dgn.persist.grunt_orc_gardens_boss = false
    for i = 1, 3 do
      which = crawl.random2(#stores) + 1
      dgn.persist.grunt_orc_gardens_store = stores[which]
      table.remove(stores, which)
      dgn.place_maps{tag="grunt_orc_garden", count=1}
    end
  end)
}}

NAME: grunt_orc_garden
TAGS: grunt_orc_garden allow_dup transparent no_monster_gen no_item_gen
{{
  if dgn.persist.grunt_orc_gardens_giant_problem then
    if dgn.persist.grunt_orc_gardens_boss then
      mons("stone giant")
    else
      mons("ettin")
    end
    mons("cyclops")
    mons("nothing")
    nsubst("0 : 1:1 / 2:2 / *:.")
  else
    if dgn.persist.grunt_orc_gardens_boss then
       mons("orc warlord")
    end
    mons("orc knight / orc sorcerer w:5 / orc high priest w:5")
    if not dgn.persist.grunt_orc_gardens_boss then
      mons("nothing")
    end
    mons("orc warrior / orc sorcerer w:1 / orc high priest w:1 /"
         .. "ogre w:1 / troll w:1 / warg w:1")
    nsubst("0 : 1:1 / *:2")
  end
}}
MONS: nothing w:20 / fungus
SUBST: . = ..4
NSUBST: 3 = 5:3 / 1:I / 4:P / *:.
SUBST: P = .4
: if is_validating() or dgn.persist.grunt_orc_gardens_store == nil then
KFEAT: A = any shop
: else
: kfeat("A = " .. dgn.persist.grunt_orc_gardens_store)
: end
MAP
   .....
 ...PPP...
 .PPP3PPP.
..P33333P..
.PP33033PP.
.P330A033P.
.PP33033PP.
..P33333P..
 .PPP3PPP.
 ...PPP...
   .....
ENDMAP

##################################################
NAME:   grunt_orc_community_town_hall
TAGS:   transparent no_monster_gen no_item_gen
PLACE:  Orc:$
ORIENT: float
KMONS:  O = Saint Roka band w:3 / orc warlord band, orc warlord band
MONS:   orc knight / orc warrior w:30, orc sorcerer / orc wizard w:30
MONS:   orc high priest / orc priest w:30
MONS:   orc warrior / orc w:30, orc / nothing
KFEAT:  _ = altar_beogh
KFEAT:  A = antique armour shop
KFEAT:  B = antique weapon shop
NSUBST: 0 = 2:1 / 3:2 / *:3
{{
  local small_house_count = 4 + crawl.random2(3)
  hook("post_place", function()
    dgn.place_maps{tag="grunt_orc_community_big_house", count=2}
    dgn.place_maps{tag="grunt_orc_community_house", count=small_house_count}
  end)
}}
MAP
   .........
  ...ccccc...
 ..ccc._.ccc..
 .ccA0.O.0Bcc.
..cccI0.0Iccc..
.ccccc...ccccc.
.c..4c.4.c4..c.
.c.0.+...+.0.c.
.c4..c.4.c..4c.
.ccccc.I.ccccc.
.c4..c.4.c..4c.
.c.0.+...+.0.c.
.c..4c...c4..c.
.ccccc.4.ccccc.
.ccccI...Icccc.
..ccc.4.4.ccc..
 ...cc+++cc...
   .........
     .I.I.
      .@.
ENDMAP

NAME:    grunt_orc_community_big_house_1
TAGS:    grunt_orc_community_big_house allow_dup transparent no_monster_gen
TAGS:    no_item_gen
KMONS:   A = orc knight / orc sorcerer / orc high priest / \
             orc warrior / orc wizard / orc priest
MONS:    orc warrior / orc wizard / orc priest
MONS:    orc warrior / orc w:30
KFEAT:   A = any shop
KFEAT:   _ = altar_beogh
SHUFFLE: def
SUBST:   d = +, ef = c
MAP
  .......
 ..ccccc..
..cc.A.cc..
.cc.....cc.
.c.2._.2.c.
.c1.2I2.1c.
.c.2...2.c.
.cc.....cc.
..cc...cc.
 ..cdefc..
  ...@...
ENDMAP

NAME:    grunt_orc_community_big_house_2
TAGS:    grunt_orc_community_big_house allow_dup transparent no_monster_gen
TAGS:    no_item_gen
KMONS:   A = orc knight / orc sorcerer / orc high priest / \
             orc warrior / orc wizard / orc priest
MONS:    orc warrior / orc wizard / orc priest
MONS:    orc warrior / orc w:30
KFEAT:   A = any shop
KFEAT:   _ = altar_beogh
SHUFFLE: def, ghi
SUBST:   dg = +, efhi = c
MAP
...........
.ccccccccc.
.cc2._..cc.
.c.....1.c.
.c..2...2c.
.cghic...c.
.c.2.c.1.c.
.c2I2cI.Ic.
.c...c.A.c.
.cdefccccc.
...@.......
ENDMAP

NAME:    grunt_orc_community_house_1
TAGS:    grunt_orc_community_house allow_dup transparent no_monster_gen
TAGS:    no_item_gen
MONS:    orc warrior / orc priest / orc wizard
MONS:    orc / nothing
SHUFFLE: def, I_ / I- / -_ / _- / -I
SUBST:   d = +, ef = c
KFEAT:   - = floor
KFEAT:   _ = altar_beogh
MAP
.......
.ccccc.
.c1_1c.
.c2I2c.
.c.2.c.
.cdefc.
...@...
ENDMAP

NAME:    grunt_orc_community_house_2
TAGS:    grunt_orc_community_house allow_dup transparent no_monster_gen
TAGS:    no_item_gen
MONS:    orc warrior / orc priest / orc wizard
MONS:    orc / nothing
SHUFFLE: de, I_ / I- / -_ / _- / -I
SUBST:   d = +, e = c
KFEAT:   - = floor
KFEAT:   _ = altar_beogh
MAP
......
.cccc.
.c_Ic.
.c11c.
.c22c.
.c.2c.
.cdec.
..@....
ENDMAP

NAME:    grunt_orc_community_house_3
TAGS:    grunt_orc_community_house allow_dup transparent no_monster_gen
TAGS:    no_item_gen
MONS:    orc warrior / orc priest / orc wizard
MONS:    orc / nothing
SHUFFLE: def, I_ / I- / -_ / _- / -I
SUBST:   d = +, ef = c
KFEAT:   - = floor
KFEAT:   _ = altar_beogh
MAP
.........
..ccccc..
.cc.2.cc.
.c.._..c.
.c1.I.1c.
.c.2.2.c.
.cc...cc.
..cdefc..
....@....
ENDMAP

##################################################
# The orcs roasted some dungeon creatures, and they're sleeping off the meal.
NAME:   grunt_orc_tribal_feast
TAGS:   patrolling no_item_gen no_monster_gen
PLACE:  Orc:$
ORIENT: float
MONS:   orc knight, orc high priest, orc sorcerer
MONS:   orc warrior, orc priest, orc wizard, orc
MARKER: O = lua:fog_machine { cloud_type='flame', pow_min = 10, pow_max = 10, \
                              delay = 10, size = 1, excl_rad = 0 }
: dgn.delayed_decay(_G, 'd', 'yak skeleton')
: dgn.delayed_decay(_G, 'e', 'rat skeleton')
KFEAT:  A = any shop
MAP
      ccccccc
     cce.6.5ccc
   xxc4.1.1..Acc
   x...e.2....2cc
  xx.4.d...e...Ac
 xx.e.e3.O.3.1.Ac
 x7..4.e..e...3cc
xx.e.c.d.2.e.Acc
x..7xc4e.e.6cccc
x...xcc.5cccc
x.7..xcccc
xx....7xxxxx
 xx.7....6.6.
  xx....5.1.5
   xxx.7.....
     xx.4.@.4
ENDMAP

##################################################
# A lot of the opposition here comes from the band of orcs following the
# leader; if it seems kind of sparse at first glance, think again.
NAME:   grunt_orc_cross
TAGS:   patrolling no_item_gen no_monster_gen transparent
PLACE:  Orc:$
ORIENT: float
MONS:   orc knight, orc high priest, orc sorcerer
MONS:   orc warrior, orc wizard, orc priest
SHUFFLE: ABCD, EFGH
KMONS:  A = Saint Roka band w:3 / orc warlord band, orc warlord band
KMONS:  B = Nergalle w:3 / orc sorcerer, orc sorcerer
KMONS:  C = Urug w:3 / orc knight, orc knight
KMONS:  D = Blork the orc w:3 / orc wizard, orc wizard
KFEAT:  E = general shop
KFEAT:  F = antique armour shop
KFEAT:  G = antique weapon shop
KFEAT:  H = book shop / jewellery shop
KFEAT:  _ = altar_beogh
MAP
cccc  c..@..c  cccc
cE6ccccI.4.Icccc5Fc
c5..ccc.....ccc..6c
cc...cc.....cc...cc
 cc...c..2..c...cc
  cc.4.......4.cc
ccccc.........ccccc
..I....A...B....I..
...................
@4..1...._....1..4@
...................
..I....C...D....I..
ccccc.........ccccc
  cc.4.......4.cc
 cc...c..3..c...cc
cc...cc.....cc...cc
c6..cccI...Iccc..5c
cG5cccc..4..cccc6Hc
cccc  c..@..c  cccc
ENDMAP

##################################################
# Inspired by evil_forest.
# A combination dark temple / marketplace. (Wasn't someone supposed to throw
# those moneychangers out, anyway...?)
# Outer shops are for common orc pilgrims, inner shops only for the initiated.
NAME: pf_orc_diabolical
TAGS: patrolling no_item_gen no_monster_gen transparent
PLACE: Orc:$
ORIENT: float
MONS: orc / nothing w:5, orc warrior / nothing w:5
MONS: orc priest / nothing w:5, common demon / nothing w:5
MONS: orc knight
MONS: demonspawn / nothing w:5
MONS: orc high priest / orc sorcerer
SHUFFLE: BC
KFEAT: A = w:20 general shop / distillery shop / scroll shop
KFEAT: B = book shop / jewellery shop
KFEAT: C = antique weapon shop / antique armour shop
KFEAT: P = enter_pandemonium
TILE:  c = wall_stone_dark
FTILE: .1234567@ = floor_pebble_lightred
MAP
             cc2@2c
            ccc33ccc
           ccc..ccccc
          ccc..ccc3ccc
         ccc..ccc232ccc
        ccc..ccc.c2c.ccc
       ccc..ccc...c...ccc
      ccc..ccc...ccc...ccc
     ccc..ccc.4.cc7cc.4.ccc
    ccc.1......cc75.cc.4.ccc
   ccc.1.1c.3.cc..c..cc...ccc
  ccc123c32..cc..ccc.3cc.c.ccc
 cccA2c1211.cc6.cB7cc32.2.27ccc
ccc5.11.c1.cc77.76.Pcc.c....5ccc
 cccA2c1211.cc6.cC7cc32.2.27ccc
  ccc123c32..cc..ccc.3cc.c.ccc
   ccc.1.1c.3.cc..c..cc...ccc
    ccc.1......cc75.cc.4.ccc
     ccc..ccc.4.cc7cc.4.ccc
      ccc..ccc...ccc...ccc
       ccc..ccc...c...ccc
        ccc..ccc.c2c.ccc
         ccc..ccc232ccc
          ccc..ccc3ccc
           ccc..ccccc
            ccc33ccc
             cc2@3c
ENDMAP

##################################################
NAME:   kennysheep_orc_mage_school
TAGS:   patrolling no_item_gen no_monster_gen
PLACE:  Orc:$
ORIENT: float
MONS:   orc sorcerer / ogre mage w:2, orc wizard, orc / ogre w:3
KMONS:  4 = Erolcha / ogre mage, ogre mage
KMONS:  5 = Nergalle / orc sorcerer, orc sorcerer
NSUBST: . = 8:1 / 16:2 / 8:3
KFEAT:  A = distillery shop / scroll shop
KFEAT:  B = book shop / jewellery shop
KFEAT:  C = antique weapon shop / antique armour shop
NSUBST: Y = 1:A / 1:B / 1:C / 1:ABC / *:I
KFEAT:  ' = floor
KFEAT:  D = altar_beogh
KFEAT:  E = altar_kikubaaqudgha
KFEAT:  F = altar_vehumet
KFEAT:  mn = rock_wall
COLOUR: n = black
TILE:   n = wall_hall_darkgray
COLOUR: m = white
TILE:   m = wall_hall_white
MAP
                     ccccccccc
                   cccbbbbbbbccc  ccccc
                 lccbbblllllbbbccccbbbcc
                llclllllllllllllcclllbbcc
               lllccllllllll...cc...llbbcc
               llllcccI.lll....+..Immmlbbc
               llccc.........I.c....Fmllbc
              lllc.............+.....m.lbccccc
              llcc..lll...lll..c.....I.lccbbbcccc
    '''''     llcY.cbbbc..lccccc......4ccbbYbbbbcc
  '''''''''   llcc..lll...lcbbbc......cclll.lllbbcc
 '''''''''''  lllc........lclll......cc.......llbbcc
''''''cc''cc'lcclccc......lc........cc.....I...llbbc
''''''cc''cc'lcclllcccc...lcI...ll..c...I.l.l.I.llbc
''''''''''''''llllllll....lc...cbl..c....ll.ll...lbcc
'''''''''''''''''''.......lc...cbl..+...ll...ll..lbbc
@'''''''''''''''''''...I..lcY..cbl..+..Il..D...I..Ybc
'''''''''''''''''''.......lc...cbl..+...ll...ll..lbbc
''''''''''''''llllllll....lc...cbl..c....ll.ll...lbcc
''''''cc''cc'lcclllcccc...lcI...ll..c...I.l.l.I.llbc
''''''cc''cc'lcclccc......lc........cc.....I...llbbc
 '''''''''''  lllc........lclll......cc.......llbbcc
  '''''''''   llcc..lll...lcbbbc......cclll.lllbbcc
    '''''     llcY.cbbbc..lccccc......5ccbbYbbbbcc
              llcc..lll...lll..c.....I.lccbbbcccc
              lllc.............+.....n.lbccccc
               llccc.........I.c....Enllbc
               llllcccI.lll....+..Innnlbbc
               lllccllllllll...cc...llbbcc
                llclllllllllllllcclllbbcc
                 lccbbblllllbbbccccbbbcc
                   cccbbbbbbbccc  ccccc
                     ccccccccc
ENDMAP

##################################################
NAME:   hellmonk_orc_salted
TAGS:   no_item_gen no_monster_gen
PLACE:  Orc:$
WEIGHT: 5
ORIENT: southwest
MONS:   saltling, orc-shaped pillar of salt
MONS:   orc knight w:30 / two-headed ogre / troll / \
        orc sorcerer w:15 / cyclops / ettin w:2 / stone giant w:1
MONS:   orc knight band / orc warlord band w:5
KMONS:  _ = orc high priest
SUBST:  ' = ."", ; = c", ! = x:3 .
NSUBST: " = 28 = 1""" / 96 = 2""" / *=", 3 = 2:3 / * = 3...., 4 = 2:4 / 3
KFEAT:  _ = altar_beogh
KFEAT:  p = abandoned_shop
KFEAT:  S = any shop
FTILE:  ";p12 = FLOOR_SALT
COLOUR: ";p12 = LIGHTGREY
MAP
           !!!!!@@@!!!!!
       !!!!!...........!!!!!
    !!!!...................!!!!
    !.........................!
    !..!!!!..;;;''';;;..!!!!..!
    !.!!!..;;;""""""";;;..!!!.!
    !.!!.;;;""""";""""";;;.!!.!
   !!.!.;;"""""";;;"""""";;.!.!!
   !..!.;"""""""";"""""""";.!..!
   !.!.;;"""";""""""";"""";;.!.!
   !.!.;"""";;""""""";;"""";.!.!
   !.!.;""";;;""";""";;;""";.!.!
   !.!.;"""""""";;;"""""""";.!.!
   !.!.;""";;;""";""";;;""";.!.!
   !.!.;"""";;""""""";;"""";.!.!
   !.!.;;"""";""""""";"""";;.!.!
   !.!!.;"""""""";"""""""";.!!.!
   !..!.;;"""""";;;"""""";;.!..!
   !!..!.;;;""""";""""";;;.!..!!
xxxxx..!!..;;;pp"""pp;;;..!!..!
xxxxx.!!.!!..;;;;;;;;;..!!!!!.!
xxxxx3!!!.!!!.........!!.!.!!3!
xxxxx..!.!!!!!!!..!!!!!!!.!!!.!
xxxxx..!!!.!.!.!!!!.!.!!.!!!!.!
xxxxx..!.!!.!.!.!!.!.!.!!!.!!.!
xxxxx..3!!.!xxxx!!xxxxx.!!!!..!
xxxxxxx...3....xxxx......3....x
xxxxxxxx3xx.....3..........xxxx
xxxxxxx..xx.............xx.xxxx
xxxxxxx..xxx.....3.....xx33xxxx
xxxxxxx3xxxxx.33xxx33.xxxx+xxxx
xxxxxxx++xxxxxxxxxxxxxxxx..xxxx
x33.xxx..xxxxxx3.3xxxx.3...xxxxx
x3..+...3x.3.x.....xxx...3.xxxxxx
x4..+.3..+...+..4..+3+..xxxx3S3xx
xS3.xxxxxx.3.x..3..xxx...3.x.3.xx
xxxxxxxxxxxxxxx3.3xxxx3.3..x...xx
             xx...xxxxxxx.3xx..xx
             x.....xxx.3.....4.xx
             x3.4.3xxx....3x..xxx
             xS.3.Sxxxxxxxxxxxxxx
             xx._.xx
             xxxxxxx
ENDMAP
